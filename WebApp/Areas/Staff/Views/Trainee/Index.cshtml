@model PagedList.IPagedList<WebApp.Models.ApplicationUser>
@using PagedList.Mvc
@{
	ViewBag.Title = "Trainee Management";
}
<h2 class="pb-4">@Html.ActionLink((string)ViewBag.Title, "Index")</h2>

<div class="row">
	<div class="col-xl-2 pb-3">
		<ul class="list-group">
			<li class="list-group-item">
				@Html.ActionLink("Create new account", "Create")
			</li>
			<li class="list-group-item">
				@Html.ActionLink("Reset Password", "ResetPassword")

			</li>
		</ul>
	</div>

	<div class="col-xl-10 pb-3">
		<h3>Trainee Accounts</h3>

		@using (Html.BeginForm("Index", "Trainee", FormMethod.Get))
		{
			<div class="form-group">
				<div class="col-md-10">
					@Html.Editor("keyword", "keyword", new { htmlAttributes = new { @class = "form-control", @placeholder = "Search by name" } })
				</div>
			</div>
			<div class="form-group">
				<div class="col-md-10">
					@Html.Editor("age", "age", new { htmlAttributes = new { @class = "form-control", @type = "number", @placeholder = "Search by age" } })
				</div>
			</div>
			<div class="form-group">
				<div class="col-md-offset-2 col-md-10">
					<input type="submit" value="Search" class="btn btn-default" />
				</div>
			</div>

		}

		<table class="table table-striped">
			<thead>
				<tr>
					<th scope="col">UserName</th>
					<th scope="col">Full Name</th>
					<th scope="col">Age</th>
					<th scope="col">Action</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var item in @Model)
				{
					<tr>
						<td>@item.UserName</td>
						<td>@item.FullName</td>
						<td>@item.Age</td>
						<td>
							@Html.ActionLink("Delete", "Delete", new { id = item.Id }, new { @class = "btn btn-danger" })
							@Html.ActionLink("Edit", "Edit", new { id = item.Id }, new { @class = "btn btn-success" })
							@Html.ActionLink("Details", "Details", new { id = item.Id }, new { @class = "btn btn-info" })
							@Html.ActionLink("Reset Password", "ResetPassword", new { email = item.Email }, new { @class = "btn btn-danger" })
						</td>
					</tr>
				}

			</tbody>
		</table>
		Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount


		@Html.PagedListPager(Model, page => Url.Action("Index",
			new { page, keyword = @Request.Params["keyword"] }))
	</div>
</div>
