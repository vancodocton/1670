@model IPagedList<WebApp.Models.ApplicationUser>
@using X.PagedList
@using X.PagedList.Mvc
@using X.PagedList.Mvc.Fluent
@using X.PagedList.Web.Common
@{
	ViewBag.Title = "Trainee Management";
}
<h2 class="pb-4">@Html.ActionLink((string)ViewBag.Title, "Index")</h2>

<div class="row">
	<div class="col-xl-2 pb-3">
		<ul class="list-group">
			<li class="list-group-item">
				@Html.ActionLink("Create new account", "Create")
			</li>
			<li class="list-group-item">
				@Html.ActionLink("Reset Password", "ResetPassword")

			</li>
		</ul>
	</div>

	<div class="col-xl-10 pb-3">
		<h3>Trainee Accounts</h3>

		@using (Html.BeginForm("Index", "Trainee", FormMethod.Get))
		{
			<div class="form-group">
				<div class="col-md-10">
					@Html.Editor("keyword", "keyword", new { htmlAttributes = new { @class = "form-control", @placeholder = "Search by name" } })
				</div>
			</div>
			<div class="form-group">
				<div class="col-md-10">
					@Html.Editor("age", "age", new { htmlAttributes = new { @class = "form-control", @type = "number", @placeholder = "Search by age" } })
				</div>
			</div>
			<div class="form-group">
				<div class="col-md-offset-2 col-md-10">
					<input type="submit" value="Search" class="btn btn-default" />
				</div>
			</div>

		}

		<table class="table table-striped">
			<thead>
				<tr>
					<th scope="col">UserName</th>
					<th scope="col">Full Name</th>
					<th scope="col">Age</th>
					<th scope="col">Action</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var user in Model)
				{
					<tr>
						<td>@user.UserName</td>
						<td>@user.FullName</td>
						<td>@user.Age</td>
						<td class="dropdown">
							<button class="btn btn-primary dropdown-toggle" type="button" id="actions-dropdown" data-bs-toggle="dropdown"
									aria-haspopup="true" aria-expanded="false">
								Actions
							</button>
							<div class="dropdown-menu dropdown-menu-end" aria-labelledby="actions-dropdown">
								@Html.ActionLink("Delete", "Delete", new { id = user.Id }, new { @class = "dropdown-item" })
								@Html.ActionLink("Edit profiles", "Edit", new { id = user.Id }, new { @class = "dropdown-item" })
								@Html.ActionLink("Details", "Details", new { id = user.Id }, new { @class = "dropdown-item" })
								@Html.ActionLink("Reset Password", "ResetPassword", new { email = user.Email }, new { @class = "dropdown-item" })
							</div>
						</td>
					</tr>
				}
			</tbody>
		</table>

		@(Html.Pager(Model)
		.Url(page => Url.Action("Index", new { name = Request.Params["name"], age = Request.Params["age"], page = page }))
		.Build())
	</div>
</div>