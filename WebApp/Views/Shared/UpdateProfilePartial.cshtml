@model WebApp.ViewModels.UserViewModel
@using WebApp.Utils;

<div class="col-6-auto">
	@using (Html.BeginForm(null, null, FormMethod.Post, new { @class = "justify-content-center" }))
	{
		@Html.AntiForgeryToken()
		@Html.HiddenFor(model => model.User.Id)

		<h4>@ViewBag.Title</h4>
		<hr />
		@Html.ValidationSummary(false, "", new { @class = "text-danger" })

		<div class="form-group mb-3">
			@Html.LabelFor(model => model.User.UserName, htmlAttributes: new { @class = "col-form-label" })
			@Html.EditorFor(model => model.User.UserName, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
			@Html.ValidationMessageFor(model => model.User.UserName, "", new { @class = "text-danger" })
		</div>

		<div class="form-group mb-3">
			@Html.LabelFor(model => model.User.FullName, htmlAttributes: new { @class = "form-label" })
			@Html.EditorFor(model => model.User.FullName, new { htmlAttributes = new { @class = "form-control" } })
			@Html.ValidationMessageFor(model => model.User.FullName, "", new { @class = "text-danger" })
		</div>

		<div class="form-group mb-3">
			@Html.LabelFor(model => model.User.Age, htmlAttributes: new { @class = "form-label" })
			@Html.EditorFor(model => model.User.Age, new { htmlAttributes = new { @class = "form-control" } })
			@Html.ValidationMessageFor(model => model.User.Age, "", new { @class = "text-danger" })
		</div>

		<div class="form-group mb-3">
			@Html.LabelFor(model => model.User.Address, htmlAttributes: new { @class = "form-label" })
			@Html.EditorFor(model => model.User.Address, new { htmlAttributes = new { @class = "form-control" } })
			@Html.ValidationMessageFor(model => model.User.Address, "", new { @class = "text-danger" })
		</div>

		<div class="form-group mb-3">
			@Html.LabelFor(model => model.User.Email, htmlAttributes: new { @class = "form-label" })
			@Html.EditorFor(model => model.User.Email, new { htmlAttributes = new { @class = "form-control" } })
			@Html.ValidationMessageFor(model => model.User.Email, "", new { @class = "text-danger" })
		</div>

		<div class="form-group mb-3">
			@Html.LabelFor(model => model.Roles, htmlAttributes: new { @class = "form-label" })
			@Html.EditorFor(model => model.Roles, new { htmlAttributes = new { @class = "form-control", @value = string.Join(", ", Model.Roles), @readonly = "readonly" } })
			@Html.ValidationMessageFor(model => model.User.Email, "", new { @class = "text-danger" })
		</div>

		if (Model.Roles.Any(r => r == Role.Trainer))
		{
			<div class="form-group mb-3">
				@Html.LabelFor(model => model.Specialty, htmlAttributes: new { @class = "form-label" })
				@Html.EditorFor(model => model.Specialty, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.Specialty, "", new { @class = "text-danger" })
			</div>
		}

		if (Model.Roles.Any(r => r == Role.Trainee))
		{
			<div class="form-group mb-3">
				@Html.LabelFor(model => model.BirthDate, htmlAttributes: new { @class = "form-label" })
				@Html.EditorFor(model => model.BirthDate, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.BirthDate, "", new { @class = "text-danger" })
			</div>

			<div class="form-group mb-3">
				@Html.LabelFor(model => model.Education, htmlAttributes: new { @class = "form-label" })
				@Html.EditorFor(model => model.Education, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.Education, "", new { @class = "text-danger" })
			</div>
		}

		<div class="form-group mb-3">
			<input type="submit" value="Save changes" class="btn btn-primary" />
		</div>
	}

</div>
